import{t as i,p as A,_ as I,r as L,a as g,u as U,b as B,o as K,c as o,d as V,e as c,f as e,w as a,n as j,g as D,v as O,h as s,i as h,j as R,k as E,l as M,m as k}from"./index-5b43cdaa.js";import T from"./index-c72ea573.js";var q={login(f,t){return f?t?A("account/check",{userName:f,userPassword:t}):i.message("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A"):i.message("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A")}};const F={id:"login"},G={class:"login-container"},H={class:"login-title"},J={class:"p-24"},Q=k("\u767B\u5F55"),W={class:"register"},X=k("\u53BB\u6CE8\u518C"),Y={class:"btn"},Z={setup(f){const t=L({userName:"",userPassword:""}),w=g(null),l=g(!1),x=U(),y=B(),b=x.state.title,d=g(!1),u={check(){if(!t.userName)return i.message("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A");if(!t.userPassword)return i.message("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A");l.value=!0,q.login(t.userName,t.userPassword).then(p=>{if(p.code!==1)return l.value=!1;i.setAuthorization(p.data.token),h.push("/").then(()=>{l.value=!1})}).catch(()=>{l.value=!1})},reset(){i.delAuthorization(),y.resetInfo()},goRegister(){h.push({path:"/register"})}};return K(()=>{u.reset()}),(p,n)=>{const v=o("AppIcon"),z=o("a-input"),_=o("a-form-item"),C=o("a-input-password"),m=o("a-button"),N=o("a-form"),P=o("a-switch"),S=o("a-card");return R(),V("div",F,[c("div",G,[e(S,{class:j(d.value?"breathe":"")},{default:a(()=>[c("div",H,E(s(b))+"\u767B\u5F55",1),c("div",J,[e(N,{layout:"vertical"},{default:a(()=>[e(_,null,{default:a(()=>[e(z,{value:s(t).userName,"onUpdate:value":n[0]||(n[0]=r=>s(t).userName=r),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",size:"large","allow-clear":""},{prefix:a(()=>[e(v,{name:"UserOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),_:1}),e(_,null,{default:a(()=>[e(C,{type:"password",value:s(t).userPassword,"onUpdate:value":n[1]||(n[1]=r=>s(t).userPassword=r),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",size:"large",ref_key:"inputPassword",ref:w,onKeyup:M(u.check,["enter"])},{prefix:a(()=>[e(v,{name:"LockOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value","onKeyup"])]),_:1}),e(_,null,{default:a(()=>[e(m,{type:"primary",onClick:u.check,loading:l.value,size:"large",block:""},{default:a(()=>[Q]),_:1},8,["onClick","loading"])]),_:1})]),_:1}),c("div",W,[e(m,{type:"link",onClick:u.goRegister,size:"small"},{default:a(()=>[X]),_:1},8,["onClick"])])]),c("div",Y,[e(P,{checked:d.value,"onUpdate:checked":n[2]||(n[2]=r=>d.value=r),"checked-children":"off","un-checked-children":"on",size:"small"},null,8,["checked"])])]),_:1},8,["class"])]),D(e(s(T),null,null,512),[[O,d.value]])])}}};var te=I(Z,[["__scopeId","data-v-7f585396"]]);export{te as default};
